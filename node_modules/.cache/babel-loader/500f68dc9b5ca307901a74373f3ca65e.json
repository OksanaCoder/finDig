{"ast":null,"code":"var _jsxFileName = \"/Users/oksanashukh/Desktop/INFOCOIN/infoCoin-frontend/src/components/VideoSwiper/VideoSwiper.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef } from 'react';\nimport { Row, Col, Modal, Button //  Form\n} from 'react-bootstrap';\nimport '@styles/components/HomeContainer.css';\nimport '@styles/components/VideoSwiper.css';\nimport arrowRight from \"@assets/icons/arrow-right.svg\";\nimport { ReactComponent as Share } from \"@svgr/webpack?-svgo,+titleProp,+ref!@assets/icons/share.svg\";\nimport { ReactComponent as Eye } from \"@svgr/webpack?-svgo,+titleProp,+ref!@assets/icons/eye.svg\";\nimport { ReactComponent as Like } from \"@svgr/webpack?-svgo,+titleProp,+ref!@assets/icons/heart.svg\"; // import {\n//   FormControl,\n//   Radio,\n//   RadioGroup,\n//   FormControlLabel,\n// } from '@material-ui/core';\n\nimport { DefaultPlayer as Video } from 'react-html5video';\nimport 'react-html5video/dist/styles.css';\nimport { Swiper, SwiperSlide } from 'swiper/react';\nimport 'swiper/swiper-bundle.min.css';\nimport 'swiper/swiper.min.css';\nimport { stories } from './stories';\nimport './gt.js'; // import Geetest from 'react-geetest';\n// import ReCAPTCHA from \"react-google-recaptcha\";\n\nimport { Link } from 'react-router-dom';\nimport LinkBrowsingHistoryItem from '@components/History/LinkBrowsingHistoryItem';\nimport UnacceptableСontentModal from './UnacceptableСontentModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst VideoSwiper = ({\n  props\n}) => {\n  _s();\n\n  // const onSuccess = isSuccess => console.log(isSuccess);\n  // const [reportValue, setReportValue] = useState('complain');\n  // const [complainValue, setComplainValue] = useState('reason1');\n  // const [showComplain, setShowComplain] = useState(false);\n  const swiperRef = useRef();\n  const videoRef = useRef();\n  const storiesData = stories; // console.log(story);\n  // const videoTime = vidioRef.currentTime;\n  // console.log(`current Time`, videoTime);\n  // if modalShow === true, then stop plaing video\n\n  const [modalShow, setModalShow] = useState(false);\n  const [modalCaptcha, setModalCaptcha] = useState(false);\n  const [captchaConfirm, setCaptchaConfirm] = useState(false);\n  const [targetVideo, setTargetVideo] = useState('');\n  const [isFaveVideo, setIsFaveVideo] = useState(false);\n\n  const handlerAddingFavVideo = evt => {\n    console.log(evt.target.id === evt.currentTarget.id);\n\n    if (evt.target.id === evt.currentTarget.id) {\n      storiesData.map(item => {\n        if (item.id === evt.target.id) {\n          return item.isLiked = !item.isLiked;\n        }\n\n        setIsFaveVideo(!isFaveVideo);\n        return item.isLiked;\n      });\n    }\n  };\n\n  const handleCloseModal = () => {\n    setModalCaptcha(false);\n  };\n\n  const handleConfirm = () => {\n    setCaptchaConfirm(true);\n    setModalCaptcha(false);\n  };\n\n  const handlerToggleModal = evt => {\n    evt.preventDefault();\n\n    if (evt.target.id === evt.currentTarget.id) {\n      var _evt$target;\n\n      setTargetVideo(evt === null || evt === void 0 ? void 0 : (_evt$target = evt.target) === null || _evt$target === void 0 ? void 0 : _evt$target.id);\n      setModalShow(!modalShow);\n    }\n  }; // const playerRef = useRef();\n  // const [playing, setPlaying] = useState(true);\n  // const [randomSecond, setRandomSecond] = useState(0);\n  // const [captchaConfirmed, setCaptchaConfirmed] = useState(false);\n  // useEffect(() => {\n  //   if (playing || captchaConfirmed) {\n  //     return;\n  //   }\n  //   // checkCaptcha()\n  // }, [playing]);\n  // const checkCaptcha = () => {\n  //   if (window.confirm(\"Are you a human?\")) {\n  //     setCaptchaConfirmed(true);\n  //     setPlaying(true);\n  //   }\n  // };\n  // const [playing, setPlaying] = useState(false);\n  // const videoRef = useRef(null);\n  // const onVideoPress = () => {\n  //   if (playing) {\n  //     videoRef.current.pause();\n  //     setPlaying(false);\n  //   } else {\n  //     videoRef.current.play();\n  //     setPlaying(true);\n  //   }\n  // };\n  // function onChange(value) {\n  // console.log(\"Captcha value:\", value);\n  // }\n  // const recaptchaRef = React.createRef();\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Swiper, {\n      spaceBetween: 50,\n      loop: true,\n      slidesPerView: 1 // onSlideChange={() => console.log(\"slide change\")}\n      ,\n      onSwiper: swiper => swiperRef.current = swiper,\n      allowSlideNext: false,\n      allowSlidePrev: false // noSwiping={true}\n      ,\n      children: [props === undefined && (storiesData === null || storiesData === void 0 ? void 0 : storiesData.map(i => /*#__PURE__*/_jsxDEV(SwiperSlide, {\n        children: ({\n          isActive\n        }) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-column-align mob-padding\",\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              lg: 6,\n              md: 6,\n              sm: 12,\n              xs: 12,\n              className: \"flex-row-center-align\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-row-center-align\",\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  to: {\n                    pathname: `${'/profile'}/${i.author.id}`,\n                    state: i === null || i === void 0 ? void 0 : i.author\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: i.author.avatar,\n                    alt: \"profile avatar\",\n                    className: \"profile-icon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-left\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                    className: \"title\",\n                    children: [/*#__PURE__*/_jsxDEV(Link, {\n                      to: {\n                        pathname: `${'/profile'}/${i.author.id}`,\n                        state: i === null || i === void 0 ? void 0 : i.author\n                      },\n                      children: i.author.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 178,\n                      columnNumber: 29\n                    }, this), ' ']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                    className: \"hashtag\",\n                    children: i.author.tags.map(tag => /*#__PURE__*/_jsxDEV(\"li\", {\n                      className: \"hashtag-item\",\n                      children: tag\n                    }, tag, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 189,\n                      columnNumber: 31\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"icon-small ms-2:\",\n                src: arrowRight,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 19\n          }, this), isActive ? /*#__PURE__*/_jsxDEV(Video // style={{marginLeft: \"-3px\"}}\n          , {\n            ref: videoRef,\n            playsInline: true,\n            autoPlay: true,\n            muted: false,\n            loop: false,\n            controls: ['PlayPause', 'Volume'] // poster=\"https:eba.com.ua/wp-content/uploads/2017/11/rbsport1_mar08_prev-1.jpg\"\n            ,\n            onDurationChange: event => {\n              console.log(event.target.duration); // setRandomSecond(Math.floor(Math.random() * duration));\n            },\n            onPlay: () => {},\n            onEnded: () => {\n              swiperRef.current.allowSlideNext = true;\n              swiperRef.current.slideNext();\n              swiperRef.current.allowSlideNext = false;\n              setTimeout(() => {\n                videoRef.current.videoEl.pause();\n                setModalCaptcha(true); // if (window.confirm(\"Are you a human?\")) {\n                //   videoRef.current.videoEl.play();\n                // }\n\n                if (captchaConfirm) {\n                  videoRef.current.videoEl.play();\n                }\n              }, 1000 * Math.floor(Math.random() * 3 + 1));\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"source\", {\n              defer: true,\n              src: i.url,\n              type: \"video/MP4\",\n              className: \"video\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(Modal, {\n              show: modalCaptcha,\n              onHide: handleCloseModal,\n              children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n                closeButton: true,\n                children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n                  children: \"Confirm you are a human\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n                children: \"Captcha\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"secondary\",\n                  onClick: handleCloseModal,\n                  children: \"Close\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"primary\",\n                  onClick: handleConfirm,\n                  children: \"Confirm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 21\n          }, this) : /*#__PURE__*/_jsxDEV(Video, {\n            playsInline: true,\n            autoPlay: false,\n            muted: true,\n            loop: false,\n            controls: ['PlayPause', 'Volume'],\n            onProgress: async data => {// if (\n              //   captchaConfirmed ||\n              //   data.playedSeconds < randomSecond\n              // ) {\n              //   return;\n              // }\n              // setPlaying(false);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            className: \"flex-row-center-align mt-2\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              lg: 6,\n              md: 6,\n              sm: 6,\n              xs: 6\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              lg: 6,\n              md: 6,\n              sm: 6,\n              xs: 6,\n              className: \"flex-end\",\n              children: [/*#__PURE__*/_jsxDEV(Share, {\n                className: \"icon-small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Eye, {\n                className: ` ${modalShow ? 'icon-small-active' : 'icon-small'} ${'ms-4'}`,\n                id: i.id // prop={}\n                ,\n                onClick: handlerToggleModal\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Like, {\n                onClick: handlerAddingFavVideo,\n                id: i.id,\n                className: `${i.isLiked ? 'icon-small-active' : 'icon-small'} ${'ms-4'}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 17\n        }, this)\n      }, i.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 13\n      }, this))), props !== undefined && /*#__PURE__*/_jsxDEV(LinkBrowsingHistoryItem, {\n        props: props,\n        arrowRight: arrowRight\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this), modalShow && /*#__PURE__*/_jsxDEV(UnacceptableСontentModal, {\n      handlerToggleModal: handlerToggleModal,\n      videoId: targetVideo\n    }, targetVideo, false, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(VideoSwiper, \"MT7f1W/bIaREGadyzHhfoIlPERM=\");\n\n_c = VideoSwiper;\nexport default VideoSwiper;\n\nvar _c;\n\n$RefreshReg$(_c, \"VideoSwiper\");","map":{"version":3,"sources":["/Users/oksanashukh/Desktop/INFOCOIN/infoCoin-frontend/src/components/VideoSwiper/VideoSwiper.js"],"names":["React","useState","useRef","Row","Col","Modal","Button","DefaultPlayer","Video","Swiper","SwiperSlide","stories","Link","LinkBrowsingHistoryItem","UnacceptableСontentModal","VideoSwiper","props","swiperRef","videoRef","storiesData","modalShow","setModalShow","modalCaptcha","setModalCaptcha","captchaConfirm","setCaptchaConfirm","targetVideo","setTargetVideo","isFaveVideo","setIsFaveVideo","handlerAddingFavVideo","evt","console","log","target","id","currentTarget","map","item","isLiked","handleCloseModal","handleConfirm","handlerToggleModal","preventDefault","swiper","current","undefined","i","isActive","pathname","author","state","avatar","name","tags","tag","arrowRight","event","duration","allowSlideNext","slideNext","setTimeout","videoEl","pause","play","Math","floor","random","url","data"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react';\nimport {\n  Row,\n  Col,\n  Modal,\n  Button,\n  //  Form\n} from 'react-bootstrap';\nimport '@styles/components/HomeContainer.css';\nimport '@styles/components/VideoSwiper.css';\nimport arrowRight from '@assets/icons/arrow-right.svg';\nimport { ReactComponent as Share } from '@assets/icons/share.svg';\nimport { ReactComponent as Eye } from '@assets/icons/eye.svg';\nimport { ReactComponent as Like } from '@assets/icons/heart.svg';\n// import {\n//   FormControl,\n//   Radio,\n//   RadioGroup,\n//   FormControlLabel,\n// } from '@material-ui/core';\nimport { DefaultPlayer as Video } from 'react-html5video';\nimport 'react-html5video/dist/styles.css';\nimport { Swiper, SwiperSlide } from 'swiper/react';\nimport 'swiper/swiper-bundle.min.css';\nimport 'swiper/swiper.min.css';\nimport { stories } from './stories';\nimport './gt.js';\n// import Geetest from 'react-geetest';\n// import ReCAPTCHA from \"react-google-recaptcha\";\nimport { Link } from 'react-router-dom';\nimport LinkBrowsingHistoryItem from '@components/History/LinkBrowsingHistoryItem';\nimport UnacceptableСontentModal from './UnacceptableСontentModal';\n\nconst VideoSwiper = ({ props }) => {\n  // const onSuccess = isSuccess => console.log(isSuccess);\n  // const [reportValue, setReportValue] = useState('complain');\n  // const [complainValue, setComplainValue] = useState('reason1');\n  // const [showComplain, setShowComplain] = useState(false);\n\n  const swiperRef = useRef();\n  const videoRef = useRef();\n  const storiesData = stories;\n\n  // console.log(story);\n  // const videoTime = vidioRef.currentTime;\n  // console.log(`current Time`, videoTime);\n\n  // if modalShow === true, then stop plaing video\n  const [modalShow, setModalShow] = useState(false);\n  const [modalCaptcha, setModalCaptcha] = useState(false);\n  const [captchaConfirm, setCaptchaConfirm] = useState(false);\n  const [targetVideo, setTargetVideo] = useState('');\n  const [isFaveVideo, setIsFaveVideo] = useState(false);\n  const handlerAddingFavVideo = evt => {\n    console.log(evt.target.id === evt.currentTarget.id);\n    if (evt.target.id === evt.currentTarget.id) {\n      storiesData.map(item => {\n        if (item.id === evt.target.id) {\n          return (item.isLiked = !item.isLiked);\n        }\n        setIsFaveVideo(!isFaveVideo);\n        return item.isLiked;\n      });\n    }\n  };\n\n  const handleCloseModal = () => {\n    setModalCaptcha(false);\n  };\n  const handleConfirm = () => {\n    setCaptchaConfirm(true);\n    setModalCaptcha(false);\n  };\n\n  const handlerToggleModal = evt => {\n    evt.preventDefault();\n\n    if (evt.target.id === evt.currentTarget.id) {\n      setTargetVideo(evt?.target?.id);\n      setModalShow(!modalShow);\n    }\n  };\n\n  // const playerRef = useRef();\n  // const [playing, setPlaying] = useState(true);\n  // const [randomSecond, setRandomSecond] = useState(0);\n  // const [captchaConfirmed, setCaptchaConfirmed] = useState(false);\n\n  // useEffect(() => {\n  //   if (playing || captchaConfirmed) {\n  //     return;\n  //   }\n  //   // checkCaptcha()\n  // }, [playing]);\n\n  // const checkCaptcha = () => {\n  //   if (window.confirm(\"Are you a human?\")) {\n  //     setCaptchaConfirmed(true);\n  //     setPlaying(true);\n  //   }\n  // };\n\n  // const [playing, setPlaying] = useState(false);\n  // const videoRef = useRef(null);\n\n  // const onVideoPress = () => {\n  //   if (playing) {\n  //     videoRef.current.pause();\n  //     setPlaying(false);\n  //   } else {\n  //     videoRef.current.play();\n  //     setPlaying(true);\n  //   }\n  // };\n  // function onChange(value) {\n  // console.log(\"Captcha value:\", value);\n  // }\n  // const recaptchaRef = React.createRef();\n\n  return (\n    <>\n      {/* <Geetest\n      gt=\"your-gt\"\n      challenge=\"your-challenge\"\n      onSuccess={onSuccess}\n    /> */}\n      {/* <ReCAPTCHA\n    sitekey=\"6LckU0MdAAAAADWY8V4yEJlDd-ibaCxEw9g7LbtI\"\n    onChange={onChange}\n  \n  /> */}\n      {/* <form onSubmit={() => { recaptchaRef.current.execute(); }}> */}\n      {/* <ReCAPTCHA\n      ref={recaptchaRef}\n      // size=\"invisible\"\n      sitekey=\"6LckU0MdAAAAADWY8V4yEJlDd-ibaCxEw9g7LbtI\"\n      onChange={onChange}\n    /> */}\n      {/* </form> */}\n      <Swiper\n        spaceBetween={50}\n        loop={true}\n        slidesPerView={1}\n        // onSlideChange={() => console.log(\"slide change\")}\n        onSwiper={swiper => (swiperRef.current = swiper)}\n        allowSlideNext={false}\n        allowSlidePrev={false}\n        // noSwiping={true}\n      >\n        {props === undefined &&\n          storiesData?.map(i => (\n            <SwiperSlide key={i.id}>\n              {({ isActive }) => (\n                <div className=\"flex-column-align mob-padding\">\n                  <Row>\n                    <Col\n                      lg={6}\n                      md={6}\n                      sm={12}\n                      xs={12}\n                      className=\"flex-row-center-align\"\n                    >\n                      <div className=\"flex-row-center-align\">\n                        <Link\n                          to={{\n                            pathname: `${'/profile'}/${i.author.id}`,\n                            state: i?.author,\n                          }}\n                        >\n                          <img\n                            src={i.author.avatar}\n                            alt=\"profile avatar\"\n                            className=\"profile-icon\"\n                          />\n                        </Link>\n                        <div className=\"text-left\">\n                          <h2 className=\"title\">\n                            <Link\n                              to={{\n                                pathname: `${'/profile'}/${i.author.id}`,\n                                state: i?.author,\n                              }}\n                            >\n                              {i.author.name}\n                            </Link>{' '}\n                          </h2>\n                          <ul className=\"hashtag\">\n                            {i.author.tags.map(tag => (\n                              <li key={tag} className=\"hashtag-item\">\n                                {tag}\n                              </li>\n                            ))}\n                          </ul>\n                        </div>\n                      </div>\n                      <img\n                        className=\"icon-small ms-2:\"\n                        src={arrowRight}\n                        alt=\"\"\n                      />\n                    </Col>\n                  </Row>\n                  {isActive ? (\n                    <Video\n                      // style={{marginLeft: \"-3px\"}}\n                      ref={videoRef}\n                      playsInline\n                      autoPlay={true}\n                      muted={false}\n                      loop={false}\n                      controls={['PlayPause', 'Volume']}\n                      // poster=\"https:eba.com.ua/wp-content/uploads/2017/11/rbsport1_mar08_prev-1.jpg\"\n                      onDurationChange={event => {\n                        console.log(event.target.duration);\n                        // setRandomSecond(Math.floor(Math.random() * duration));\n                      }}\n                      onPlay={() => {}}\n                      onEnded={() => {\n                        swiperRef.current.allowSlideNext = true;\n                        swiperRef.current.slideNext();\n                        swiperRef.current.allowSlideNext = false;\n                        setTimeout(() => {\n                          videoRef.current.videoEl.pause();\n                          setModalCaptcha(true);\n                          // if (window.confirm(\"Are you a human?\")) {\n                          //   videoRef.current.videoEl.play();\n                          // }\n                          if (captchaConfirm) {\n                            videoRef.current.videoEl.play();\n                          }\n                        }, 1000 * Math.floor(Math.random() * 3 + 1));\n                      }}\n                    >\n                      <source\n                        defer\n                        src={i.url}\n                        type=\"video/MP4\"\n                        className=\"video\"\n                      />\n                      <Modal show={modalCaptcha} onHide={handleCloseModal}>\n                        <Modal.Header closeButton>\n                          <Modal.Title>Confirm you are a human</Modal.Title>\n                        </Modal.Header>\n                        <Modal.Body>Captcha</Modal.Body>\n                        <Modal.Footer>\n                          <Button\n                            variant=\"secondary\"\n                            onClick={handleCloseModal}\n                          >\n                            Close\n                          </Button>\n                          <Button variant=\"primary\" onClick={handleConfirm}>\n                            Confirm\n                          </Button>\n                        </Modal.Footer>\n                      </Modal>\n                      {/* <track label=\"English\" kind=\"subtitles\" srcLang=\"en\" src=\"http:source.vtt\" default /> */}\n                    </Video>\n                  ) : (\n                    <Video\n                      playsInline\n                      autoPlay={false}\n                      muted={true}\n                      loop={false}\n                      controls={['PlayPause', 'Volume']}\n                      onProgress={async data => {\n                        // if (\n                        //   captchaConfirmed ||\n                        //   data.playedSeconds < randomSecond\n                        // ) {\n                        //   return;\n                        // }\n                        // setPlaying(false);\n                      }}\n                    ></Video>\n                  )}\n\n                  <Row className=\"flex-row-center-align mt-2\">\n                    <Col lg={6} md={6} sm={6} xs={6}>\n                      {/* <img src={speaker} alt=\"\" />  */}\n                    </Col>\n                    <Col lg={6} md={6} sm={6} xs={6} className=\"flex-end\">\n                      <Share className=\"icon-small\" />\n                      <Eye\n                        className={` ${\n                          modalShow ? 'icon-small-active' : 'icon-small'\n                        } ${'ms-4'}`}\n                        id={i.id}\n                        // prop={}\n                        onClick={handlerToggleModal}\n                      />\n                      <Like\n                        onClick={handlerAddingFavVideo}\n                        id={i.id}\n                        className={`${\n                          i.isLiked ? 'icon-small-active' : 'icon-small'\n                        } ${'ms-4'}`}\n                      />\n                    </Col>\n                  </Row>\n                </div>\n              )}\n            </SwiperSlide>\n          ))}\n\n        {props !== undefined && (\n          <LinkBrowsingHistoryItem props={props} arrowRight={arrowRight} />\n        )}\n      </Swiper>\n      {modalShow && (\n        <UnacceptableСontentModal\n          handlerToggleModal={handlerToggleModal}\n          key={targetVideo}\n          videoId={targetVideo}\n        />\n      )}\n    </>\n  );\n};\n\nexport default VideoSwiper;\n"]},"metadata":{},"sourceType":"module"}